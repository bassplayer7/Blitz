<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dutch Blitz Scores</title>
    <meta name="viewport" content="initial-scale=1.0,width=device-width,minimum-scale=1" />
    <link rel="stylesheet" href="assets/css/prod/styles.css" />
    <link rel="icon" type="image/png" href="assets/images/site-icon.png" />
    <link rel="apple-touch-icon" href="assets/images/touch-icon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="assets/images/touch-icon-large.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/touch-icon-very-large.png">
    <script src="https://use.typekit.net/zro0rut.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
</head>
<body>
<header>
    <h1><span class="title__first">Dutch</span> <span class="title__second">Blitz&reg;</span> <span class="title__third">Scores</span></h1>
</header>

<section class="content">
    <div data-bind="with: score">
        <div class="game-status" data-bind="visible: !gameInSetupMode()">
            <span class="game-status__text"></span>
            <!-- Points remaining in round -->
            <!-- Lead Player -->
            <!-- Time -->
            <!-- Avg score per round? -->
        </div>
    </div>

    <ul class="game" data-bind="foreach: players">
        <li class="game__player player" data-bind="css: { 'player--highest': leadScore, 'player--tied': tiedScore }, attr: { style: colorVariable() }">
            <div class="player__color"></div>
            <div class="player__name">
                <label data-bind="attr: { for: elementId }, visible: !editingName(), click: editName" class="player__name-group">
                    <span data-bind="text: name" class="player__name-text"></span>
                    <span class="player__status-note player__status-note--leading">(leading)</span>
                    <span class="player__status-note player__status-note--tied">(tied)</span>
                    <button type="button" data-bind="click: $root.removePlayer, visible: !editingName()" class="player__delete">
                        <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 21 21" class="player__delete-icon">
                            <title>close</title>
                            <path d="M2.37,18.63,18.63,2.37M19,19,2,2" style="stroke-linecap: square; stroke-width: 5px;"/>
                        </svg>
                    </button>
                </label>
                <input type="text" data-bind="textInput: name, attr: { id: elementId }, visible: editingName, hasFocus: editingName" placeholder="Add Player's Name" class="player__name-input"/>
            </div>
            <div class="player__score-block" data-bind="css: { 'has-empty-score': scoreInputIsEmpty() }">
                <div class="player__score-entry">
                    <button type="button" data-bind="click: minusScore" class="player__score-button player__score-button--minus" title="Subtract points from score">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 9 9" class="player__score-icon">
                            <title>Subtract Score</title>
                            <rect y="3.5" width="9" height="2"/>
                        </svg>
                    </button>
                    <input type="tel" title="Player Score" data-bind="value: roundScore, hasFocus: scoreFocus, textInput: scoreInput" placeholder="Points" class="player__score-input"/>
                    <button type="button" data-bind="click: updateScore" class="player__score-button player__score-button--add" title="Add Points to Score">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 9 9" class="player__score-icon">
                            <title>Add Score</title>
                            <rect x="3.5" width="2" height="9"/>
                            <rect y="3.5" width="9" height="2"/>
                        </svg>
                    </button>
                </div>
                <div data-bind="text: currentScore, click: changeColor" class="player__score"></div>
            </div>
        </li>
    </ul>

    <button type="button" data-bind="click: addPlayer, visible: !gameFirstView()" class="add-game-player">
        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 9 9" class="add-game-player__icon">
        <title>Add Score</title>
        <rect x="3.5" width="2" height="9"/>
        <rect y="3.5" width="9" height="2"/>
    </svg>New Player</button>

    <div class="win-points__wrapper">
        <div class="win-points" data-bind="with: score">
            <label for="win-points" class="win-points__label">Points required to win:</label>
            <input type="tel" id="win-points" data-bind="value: gameEndScore" class="win-points__input" />
        </div>
    </div>

    <div class="game-action">
        <button type="button" data-bind="click: newGame, visible: !gameInSetupMode()" class="game-action__item new-game">New Game</button>
        <button type="button" data-bind="click: resetGame, visible: !gameInSetupMode()" class="game-action__item reset-game">New Round</button>
    </div>
</section>

<footer>
    <p>Developed by Jesse Maxwell (<a href="https://swiftotter.com">SwiftOtter Studios</a>)</p>

    <p><a href="https://github.com/bassplayer7/Blitz/issues">Ping me</a> to suggest an enhancement or report a bug.</p>
</footer>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-66194702-2', 'auto');
    ga('send', 'pageview');

</script>

<script data-main="js/init" src="js/lib/require.js" async></script>
<script src="js/lib/instantclick.min.js" data-no-instant></script>
<script data-no-instant>InstantClick.init();</script>
</body>
</html>